---
interface Props {
	name: string;
	time: string;
	ticketLink?: string;
	compact?: boolean;
}

const { name, time, ticketLink, compact = false } = Astro.props;
---

<div class:list={['event-card', { 'event-card--compact': compact }]}>
    <span class="event-name">{name}</span>
    <span class="event-time">{time}</span>
	{ticketLink && (
            <a
                    href={ticketLink}
                    class="event-ticket"
                    target="_blank"
                    rel="noopener noreferrer"
                    aria-label={`Get tickets for ${name}`}
            >
                Tickets
                <svg width="10" height="10" viewBox="0 0 10 10" fill="none" aria-hidden="true">
                    <path d="M1 9L9 1M9 1H3M9 1V7" stroke="currentColor" stroke-width="1.5"/>
                </svg>
            </a>
	)}
</div>

<style>
    .event-card {
        display: flex;
        flex-direction: column;
        gap: var(--space-xs);
        padding: var(--space-sm) var(--space-md);
        background: var(--void-lighter);
        border: 1px solid var(--border-visible);
        border-radius: 2px;
        height: 100%;
        transition: background var(--transition-base);
    }

    .event-card:hover {
        background: #1a1a1a;
    }

    .event-card--compact {
        padding: var(--space-xs) var(--space-sm);
        gap: 2px;
    }

    .event-name {
        font-size: var(--text-sm);
        font-weight: 400;
        color: var(--text-primary);
        letter-spacing: 0.05em;
        line-height: 1.3;
    }

    .event-card--compact .event-name {
        font-size: var(--text-xs);
    }

    .event-time {
        font-size: var(--text-xs);
        color: var(--text-secondary);
        letter-spacing: 0.05em;
    }

    .event-card--compact .event-time {
        font-size: 0.65rem;
    }

    .event-ticket {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        font-size: var(--text-xs);
        color: var(--accent-warm);
        letter-spacing: 0.08em;
        margin-top: var(--space-xs);
        transition: color var(--transition-base);
    }

    .event-card--compact .event-ticket {
        font-size: 0.65rem;
        margin-top: 2px;
    }

    .event-ticket:hover {
        color: var(--chrome-light);
    }

    .event-ticket svg {
        opacity: 0.7;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
        .event-card {
            transition: none;
        }
    }
</style>
